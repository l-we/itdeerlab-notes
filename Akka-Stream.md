### Akka-Stream的组成

 - Source 数据源

 - Slink

 - Flow


 响应式编程四准则：
    灵敏性，伸缩性，容错性，事件驱动

简单可以类比下我们常用MVC模式，Model的变化会通知View层的快速改变（事件通知），而无需View不停的去查询Model层的变化（轮询）。这就是一种通过事件机制快速作出响应，当然响应式模式不只简单的关注事件驱动和快速响应，也关注应用的对不同负载的伸缩扩展，还有在异步模式下的高容错性。


响应流的特点：

具有处理无限数量的元素的能力
按序处理
异步地传递元素
必须实现非阻塞的背压



背压（backpressure）是为了解决响应流源和接收者处理速度不一致而采取的一种由处理者告诉上游进行速度调整的一种方式

那么使用背压有两种，一种是源发送数据过快，另一种是发送过忙。接收一方都会往上汇报以采取合适的发送速度。当然具体的处理有多种策略 



Source即响应流的源头，源头具有一个数据出口

Sink就是流的最终目的地，包含一个数据入口


Flow就是流的中间组件，包含一个数据入口和数据出口


非阻塞的流解决方案都有固有的一个问题：“如果采集者太慢而不能消费实时数据流的话该怎么办
Akka Streams依靠一个内部的反向压力(backpressure)信号



流总是以一个Source[Out, M1]开始，然后经过Flow[In, Out, M2]元素，或者更加高级的graph元素，最终被Sink[In, M3]消费(先忽略类型参数M1, M2和M3， 他们与这些类所生产/消费的元素类型无关)。Sources和Flows都提供了流操作，可以用来转换流动的数据，但是Sink就没有这样的功能，因为它是“流的末端”，Sink的行为取决于所使用的Sink的类型



 Akka Streams有意地把线性的流结构(Flows)和非线性的、分支的流结构(FlowGraphs)分开，以便于为这两种情况提供最方便的API。图(Graph)可以表示任意复杂的流，但是就不像集合转换那样流起来很熟悉了。也可以把复杂的计算图包装成Flows, Sinks和Sources


 Akka Streams的一个主要优势就是它们总是从流的Sinks(收集者)传播back-pressure信息到Sources(发布者)。这不是一个可选的特性，而是总是开启的。


 当在Akka Streams中构建流(flow)和图(graph)时，可以把它们当作正在准备一个蓝图，一个执行计划。流的物化就是获取一个流的描述(就是流程图)，然后分配它运行时需要的资源。
 在Akka Streams的例子中，这意味着起动驱动这个流处理过程的actor，但是不仅限于此——也可能意味着打开文件或者socket连接，等——取决于这个流需要什么。

 当在Akka Streams中构建流(flow)和图(graph)时，可以把它们当作正在准备一个蓝图，一个执行计划。流的物化就是获取一个流的描述(就是流程图)，然后分配它运行时需要的资源。